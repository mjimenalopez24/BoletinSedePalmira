---
output:
  html_document: default
---
<!-- CARGAR BASE DE ASPIRANTES -->

```{r, echo=FALSE, message=FALSE, warning=FALSE}

# librerías requeridas
library(UnalData)
library(UnalR)
library(tidyverse)
library(magrittr)

# Base de datos de aspirantes a la Sede Palmira
Aspirantes <- UnalData::Aspirantes %>% select(-PROGRAMA) %>%
  filter(INS_SEDE_NOMBRE %in% c('Palmira')) %>%
  left_join(select(UnalData::Hprogramas,SNIES_PROGRA,COD_PADRE,PROGRAMA), by= "SNIES_PROGRA") %>%
  mutate(TOTAL = "Total",
         # Transformación FACULTAD -> categorias bien definidas
         FACULTAD = case_when(FACULTAD %in% c("Ciencias Agropecuarias","Ciencias agropecuarias","Facultad de Ciencias Agropecuarias") ~ "Ciencias agropecuarias",
                              FACULTAD %in% c("Ingeniería y Administración","Facultad de Ingeniería y Administración","Ingeniería y administración") ~ "Ingeniería y administración"))

Agregado <- Aspirantes %>% group_by(YEAR, SEMESTRE) %>% count()
ano <- max(Agregado %>% select(YEAR))
semestre <- Agregado[[nrow(Agregado), "SEMESTRE"]]
etiqueta <- paste0(" ", ano, "-", semestre)

# Bases por nivel de formación
AspirantesPre <- Aspirantes %>% filter(TIPO_NIVEL == "Pregrado") %>%
  mutate(EDAD_MOD = trunc(EDAD_MOD),
         CAT_EDAD = case_when(EDAD_MOD <= 17 ~ '17 años o menos',
                              EDAD_MOD >= 18 & EDAD_MOD <= 20 ~ '18 a 20 años',
                              EDAD_MOD >= 21 & EDAD_MOD <= 25 ~ '21 a 25 años',
                              EDAD_MOD >= 26 ~ '26 o más años',
                              is.na(EDAD_MOD) ~ 'Sin información'))
  
AspirantesPos <- Aspirantes %>% filter(TIPO_NIVEL == "Postgrado", MOD_INS == "Regular")

# Base de datos de admitidos a la Sede Palmira
Admitidos <- Aspirantes %>% filter(ADMITIDO == "Sí")

# Bases por nivel de formación
AdmitidosPre <- AspirantesPre %>% filter(ADMITIDO == "Sí")
AdmitidosPos <- AspirantesPos %>% filter(MOD_INS == "Regular", ADMITIDO == "Sí")

tema <- 5
```

# Aspirantes y Admitidos {#Aspirantes}

Este capítulo presenta el consolidado de las principales características asociadas a la información estadística oficial de los aspirantes y admitidos a pregrado y postgrado en la **Sede Palmira** de la Universidad Nacional de Colombia. A continuación, se presenta una breve descripción de las secciones que hacen parte de este capítulo, así como la ubicación del sitio web en donde se presentan las definiciones, los estándares y las codificaciones/clasificaciones que hacen parte de la información acá contenida (*metadatos*) y cuya exploración y lectura, sin duda, facilitará el entendimiento de las cifras asociadas a las poblaciones de aspirantes y admitidos en esta sede de la Universidad. 


<h3>**Secciones**</h3> 


* [Aspirantes a pregrado](#AspPre): contiene la información oficial del total de aspirantes a pregrado en la **Sede Palmira** de la Universidad Nacional de Colombia.

* [Admitidos a pregrado](#AdmPre): contiene la información oficial del total de admitidos a pregrado en la **Sede Palmira** de la Universidad Nacional de Colombia.


* [Aspirantes a postgrado](#AspPos): contiene la información oficial del total de aspirantes a los programas de postgrado de la **Sede Palmira** de la Universidad Nacional de Colombia.

* [Admitidos a postgrado](#AdmPos): contiene la información oficial del total de admitidos a los programas de postgrado de la **Sede Palmira** de la Universidad Nacional de Colombia .


<h3>**Metadatos**</h3>

La construcción de las cifras oficiales de aspirantes y admitidos a la **Sede Palmira**, las definiciones que hacen parte de estas, así como las codificaciones y clasificaciones aquí empleadas se encuentran contenidas en la sección **Aspirantes y Admitidos** del capítulo de *Metadatos* de las cifras oficiales generales que hacen parte de la página de [estadísticas](http://estadisticas.unal.edu.co/home/) de la Universidad Nacional de Colombia. Invitamos a los lectores a explorar y conocer estos metadatos los cuales, además de orientar y facilitar el entendimiento de la información acá expuesta, se encuentran disponibles en el siguiente enlace.

* [Metadatos Cifras Oficiales Universidad Nacional de Colombia](http://estadisticas.unal.edu.co/menu-principal/cifras-generales/metadatos/cifras-generales/)


## Aspirantes a pregrado {#AspPre}

A continuación, se presentan las principales características asociadas a los aspirantes a pregrado de la **Sede Palmira** de la Universidad Nacional de Colombia. En específico, se presenta la evolución histórica de los aspirantes a pregrado desde diferentes perspectivas: general, sexo, grupos de edad,  estrato socioeconómico, tasa de absorción y departamentos y municipios de procedencia de los mismos. Para cada una de las variables analizadas se presenta la evolución histórica (*serie de tiempo*) así como el comportamiento actual (*estado actual*) derivado de las últimas mediciones disponibles.

En la parte final de esta sección se presenta una tabla agregada con las combinaciones de las variables ilustradas previamente. El usuario que así lo desee, puede descargar esta tabla y analizar la información como a bien lo desee.


### Evolución histórica

A continuación, la Figura \@ref(fig:F1AspPre), presenta la evolución histórica -*desde el periodo 2008*-, del total de aspirantes a pregrado en la sede.

```{r F1AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Msj <- "Información disponible desde 2008-1"

Agregar(TOTAL ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>%  
              Plot.Series(categoria = "TOTAL", 
               colores = c("#8cc63f"), # verde, Total 
               titulo = "Evolución histórica del número total de aspirantes a pregrado", 
               labelY = "Número de aspirantes",
               ylim = c(0,NaN),
               libreria = c("highcharter"), 
               estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```
<br>

### Información por sexo

A continuación, las figuras \@ref(fig:F2AspPre) y \@ref(fig:F3AspPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a pregrado según el sexo biológico.

```{r F2AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <- c( "#f15a24", "#8cc63f") # naranja, hombres 

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "SEXO", 
              colores = col , 
              titulo = "Evolución del número de aspirantes a pregrado por sexo",
              labelY = "Número de aspirantes",
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj))
```

<br>

```{r F3AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>%
        Plot.Torta(categoria  = "SEXO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de aspirantes a pregrado por sexo",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))

```

<br>

### Información por edad

A continuación, las figuras \@ref(fig:F4AspPre) y \@ref(fig:F5AspPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a pregrado por grupos de edad.

```{r F4AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
          Plot.Series(categoria = "CAT_EDAD", 
              titulo = "Evolución del número de aspirantes a pregrado por grupos de edad",
              labelY = "Número de aspirantes", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F5AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
         Plot.Barras(categoria  = "CAT_EDAD",
            ano        = ano,
            periodo    = semestre,
            vertical   = TRUE,
            ordinal    = TRUE,
            libreria   = "highcharter",
            titulo     = "Distribución de aspirantes a pregrado por grupos de edad",
            labelEje   = "Número de aspirantes",
            addPeriodo = TRUE,
            estilo = list(hc.Tema = tema, hc.Slider = FALSE)
             )
```

<br>

### Información por estrato socioeconómico

A continuación, las figuras \@ref(fig:F6AspPre) y \@ref(fig:F7AspPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a pregrado según el estrato socioeconómico de las viviendas en donde estos residen.

```{r F6AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "ESTRATO", 
              titulo = "Evolúción del número de aspirantes a pregrado por estrato socioeconómico",
              labelY = "Número de aspirantes", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F7AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "ESTRATO",
           ano        = ano,
           periodo    = semestre,
           titulo     = "Distribución de aspirantes a pregrado por estrato socioeconómico",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Tasa de absorción

A continuación, las figuras \@ref(fig:F8AspPre) y \@ref(fig:F9AspPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes admitidos a pregrado en la **Sede Palmira** de la Universidad Nacional de Colombia.

```{r F8AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <- c("#8cc63f", "#f15a24")

Agregar(ADMITIDO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>% 
        Plot.Series(categoria = "ADMITIDO", 
              colores = col, 
              titulo = "Evolución del número de aspirantes admitidos a pregrado",
              labelY = "Número de aspirantes", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F9AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(ADMITIDO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPre,
                    textNA = "Sin información") %>%  
        Plot.Torta(categoria  = "ADMITIDO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de aspirantes admitidos a pregado",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```
<br>

### Mapa departamentos y municipios de procedencia

A continuación, la figura \@ref(fig:F10AspPre) presenta el mapa actual (última convocatoria) con el total de aspirantes a pregrado por departamentos y municipios de procedencia en la **Sede Palmira**.

```{r F10AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
AspirantesPre %>% filter(YEAR == ano, SEMESTRE == semestre) %$%
  Plot.Mapa(depto         = COD_DEP_RES,
            mpio          = COD_CIU_RES,
            estadistico   = "Conteo",
            tipo          = "DeptoMpio",
            titulo        = paste("Aspirantes", etiqueta),
            centroideMapa = "VALLE DEL CAUCA",
            zoomMapa      = 6,
            cortes        = list(Deptos = c(0, 10, 100, 300, Inf),
                                 Mpios  = c(0, 1, 5, 10, 20, Inf)),
            colores       = list(Deptos = c('#edf8e9','#bae4b3','#74c476','#006d2c'),
                                 Mpios  = c('#ffffff',  '#5ec962', '#21918c', '#3b528b', '#fde725')),
            showSedes     = TRUE
  )
```
<br>

### Tabla agregada 

A continuación, la tabla \@ref(fig:F11AspPre) presenta el agregado **histórico**, por **años, semestres, departamentos  y municipios de procedenecia, sexo, edad, estrato y admisión (sí o no)** de los aspirantes a pregrado en la **Sede Palmira**.

Los interesados en *imprimir*, *copiar* o *descargar* estas cifras, pueden hacerlo a través de las múltiples opciones que se ofrecen en la parte superior izquierda de la tabla que se presenta a continuación (Copiar, CSV, Excel, PDF e Imprimir). Así mismo, esta tabla, dada su naturaleza web, permiten filtrar los resultados por aquellas variables de interés.

<br>

```{r F11AspPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Asp_Pre_Tabla <- AspirantesPre %>% group_by(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, ADMITIDO) %>% summarise(Total=n()) %>% select(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, ADMITIDO, Total) %>% ungroup() %>% mutate(across(where(is.character), replace_na,  replace = "SIN INFORMACIÓN")) 

#Tabla en HTML
UnalR::Tabla.General(datos = Asp_Pre_Tabla,
                     encabezado = "Tabla histórico total de aspirantes por variables de interés",
                     colorHead = "#4CFF49",
                     colNames = c("Año","Semestre","Departamento de residencia","Ciudad de residencia","Sexo","Edad","Estrato","Admitido","Total"))

```

## Admitidos a pregrado {#AdmPre}

A continuación, se presentan las principales características asociadas a los admitidos a pregrado de la **Sede Palmira** de la Universidad Nacional de Colombia. En específico, se presenta la evolución histórica de los admitidos a pregrado desde diferentes perspectivas: general, sexo, grupos de edad,  estrato socioeconómico, tipo de admisión, departamentos y municipios de procedencia así como los programas académicos, las facultades y las sedes andinas en las que estos se encuentran ubicados. Para cada una de las variables analizadas se presenta la evolución histórica (*serie de tiempo*) así como el comportamiento actual (*estado actual*) derivado de las últimas mediciones disponibles.

En la parte final de esta sección se presenta una tabla agregada con las combinaciones de las variables ilustradas previamente. El usuario que así lo desee, puede descargar esta tabla y analizar la información como a bien lo desee.

### Evolución Histórica

A continuación, la Figura \@ref(fig:F1AdmPre), presenta la evolución histórica -*desde el periodo 2008*-, del total de admitidos a pregrado en la sede.

```{r F1AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(TOTAL ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
        Plot.Series(categoria = "TOTAL", 
              colores = c("#8cc63f"), # verde, Total 
               titulo = "Evolución histórica del número total de admitidos a pregrado",
               labelY = "Número de admitidos", 
               ylim = c(0,NaN),
               libreria = c("highcharter"), 
               estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj))
```

<br>

### Información por sexo

A continuación, las figuras \@ref(fig:F2AdmPre) y \@ref(fig:F3AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado según el sexo biológico.

```{r F2AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <- c( "#f15a24", "#8cc63f") # naranja, hombres 

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "SEXO", 
              colores = col , 
              titulo = "Evolución del número de admitidos a pregrado por sexo",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj))
```

<br>

```{r F3AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>%
        Plot.Torta(categoria  = "SEXO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de admitidos a pregrado por sexo",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))

```

<br>

### Información por edad

A continuación, las figuras \@ref(fig:F4AdmPre) y \@ref(fig:F5AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado por grupos de edad.

```{r F4AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
          Plot.Series(categoria = "CAT_EDAD", 
              titulo = "Evolución del número de admitidos a pregrado por grupos de edad",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F5AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
         Plot.Barras(categoria  = "CAT_EDAD",
            ano        = ano,
            periodo    = semestre,
            vertical   = TRUE,
            ordinal    = TRUE,
            libreria   = "highcharter",
            titulo     = "Distribución de admitidos a pregrado por grupos de edad",
            labelEje   = "Número de admitidos",
            addPeriodo = TRUE,
            estilo = list(hc.Tema = tema, hc.Slider = FALSE)
             )
```

<br>

### Información por estrato socioeconómico

A continuación, las figuras \@ref(fig:F6AdmPre) y \@ref(fig:F7AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado según el estrato socioeconómico de las viviendas en donde estos residen.

```{r F6AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "ESTRATO", 
              titulo = "Evolúción del número de admitidos a pregrado por estrato socioeconómico",
              labelY = "Número de admitidos",
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F7AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "ESTRATO",
           ano        = ano,
           periodo    = semestre,
           titulo     = "Distribución de admitidos a pregrado por estrato socioeconómico",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Información por tipo de admisión

A continuación, las figuras \@ref(fig:F8AdmPre) y \@ref(fig:F9AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado según el tipo de admisión.

```{r F8AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col = c("#8cc63f", "#f15a24")

Agregar(MOD_INS ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "MOD_INS", 
              colores = col, 
              titulo = "Evolúción del número de admitidos a pregrado por tipo de admisión",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F9AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(MOD_INS ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "MOD_INS",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de admitidos a pregrado por tipo de admisión",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Información por facultad

A continuación, las figuras \@ref(fig:F10AdmPre) y \@ref(fig:F11AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado por facultad.

```{r F10AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col = c("#8cc63f", "#f15a24")

Agregar(FACULTAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "FACULTAD", 
              colores = col, 
              titulo = "Evolúción del número de admitidos a pregrado por facultad",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F11AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(FACULTAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "FACULTAD",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de admitidos a pregrado por facultad",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Información por programa

A continuación, las figuras \@ref(fig:F12AdmPre) y \@ref(fig:F13AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a pregrado por programa.

```{r F12AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(PROGRAMA ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "PROGRAMA", 
              titulo = "Evolúción del número de admitidos a pregrado por programa",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F13AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(PROGRAMA ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPre,
                    textNA = "Sin información") %>% 
        Plot.Barras(categoria  = "PROGRAMA",
           ano        = ano,
           periodo    = semestre,
           vertical   = FALSE,
           ordinal    = TRUE,
           titulo     = "Distribución de admitidos a pregrado por programa",
           labelEje   = "Número de admitidos",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema, hc.Slider = FALSE))
```

<br>

### Información de los puntajes obtenidos

A continuación, la figuras \@ref(fig:F14AdmPre) y \@ref(fig:F15AdmPre) presentan, respectivamente, la evolución histórica y el comportamiento del último año del puntaje total en el examen de admisión de admitidos a pregrado.

```{r F14AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Plot.Boxplot(
  datos    = subset(AdmitidosPre,YEAR >= 2010),
  variable = PTOTAL,
  grupo1   = YEAR,
  grupo2   = SEMESTRE,
  outliers = FALSE,
  ylim     = c(100, 900),
  colores  = col,
  titulo   = "Evolución del puntaje total de los admitidos",
  labelY   = "Puntaje",
  libreria = "highcharter",
  estilo   = list(LegendTitle = "SEMESTRE:", hc.Tema = tema, hc.Credits = "Información disponible desde 2010-1")
)
```

<br> 

```{r F15AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Plot.Boxplot(
  datos    = subset(AdmitidosPre,YEAR == ano),
  variable = PTOTAL,
  grupo1   = PROGRAMA,
  grupo2 = SEMESTRE,
  outliers = FALSE,
  ylim     = c(200, 800),
  titulo   = paste0("Puntaje total de los admitidos (AÑO ", ano, ")"),
  labelY   = "Puntaje",
  labelX = "Programa",
  libreria = "highcharter",
  estilo   = list(LegendTitle = "SEMESTRE:", hc.Tema = tema)
)
```

<br>

### Mapa de departamentos y municipios de procedencia

A continuación, la figura \@ref(fig:F16AdmPre) presenta el mapa actual (última convocatoria) con el total de admitidos a pregrado por departamentos y municipios de procedencia en la **Sede Palmira**.

```{r F16AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
AdmitidosPre %>% filter(YEAR == ano, SEMESTRE == semestre) %$%
  Plot.Mapa(depto         = COD_DEP_RES,
            mpio          = COD_CIU_RES,
            estadistico   = "Conteo",
            tipo          = "DeptoMpio",
            titulo        = paste("Aspirantes", etiqueta),
            centroideMapa = "VALLE DEL CAUCA",
            zoomMapa      = 6,
            cortes        = list(Deptos = c(0, 10, 100, 300, Inf),
                                 Mpios  = c(0, 1, 5, 10, 20, Inf)),
            colores       = list(Deptos = c('#edf8e9','#bae4b3','#74c476','#006d2c'),
                                 Mpios  = c('#ffffff',  '#5ec962', '#21918c', '#3b528b', '#fde725')),
            showSedes     = TRUE
  )
```

<br>

### Tabla agregada

A continuación, la tabla \@ref(fig:F17AdmPre) presenta el agregado **histórico**, por **años, semestres, departamentos  y municipios de procedenecia, sexo, edad, estrato, tipo de admisión, facultad, programa, y puntaje** de los admitidos a pregrado en la **Sede Palmira**.

Los interesados en *imprimir*, *copiar* o *descargar* estas cifras, pueden hacerlo a través de las múltiples opciones que se ofrecen en la parte superior izquierda de la tabla que se presenta a continuación (Copiar, CSV, Excel, PDF e Imprimir). Así mismo, esta tabla, dada su naturaleza web, permiten filtrar los resultados por aquellas variables de interés.

<br>

```{r F17AdmPre, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Adm_Pre_Tabla <- AdmitidosPre %>% group_by(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, MOD_INS, FACULTAD, PROGRAMA, PTOTAL) %>% summarise(Total=n()) %>% select(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, MOD_INS, FACULTAD, PROGRAMA, PTOTAL, Total) %>% ungroup() %>% mutate(across(where(is.character), replace_na,  replace = "SIN INFORMACIÓN")) 

#Tabla en HTML
UnalR::Tabla.General(datos = Adm_Pre_Tabla,
                     encabezado = "Tabla histórico total de admitidos por variables de interés",
                     colorHead = "#4CFF49",
                     colNames = c("Año","Semestre","Departamento de residencia","Ciudad de residencia","Sexo","Edad","Estrato","Modalidad de inscripción","Facultad","Programa","Puntaje total","Total"))

```

## Aspirantes a postgrado {#AspPos}

A continuación, se presentan las principales características asociadas a los aspirantes a postgrado de la **Sede Palmira** de la Universidad Nacional de Colombia (por inscripción regular). En específico, se presenta la evolución histórica de los aspirantes a postgrado desde diferentes perspectivas: general, sexo, grupos de edad, estrato socioeconómico, tasa de absorción y departamentos y municipios de procedencia de los mismos. Para cada una de las variables analizadas se presenta la evolución histórica (*serie de tiempo*) así como el comportamiento actual (*estado actual*) derivado de las últimas mediciones disponibles.

En la parte final de esta sección se presenta una tabla agregada con las combinaciones de las variables ilustradas previamente. El usuario que así lo desee, puede descargar esta tabla y analizar la información como a bien lo desee.

<br>
<blockquote>
<p><strong><p style="color:red;">Nota: aspirantes a postgrado </p></strong><br>
El número de aspirantes a postgrado en la **Sede Palmira** de la Universidad Nacional de Colombia es bajo. Este hecho implica leer con precaución las frecuencias relativas (porcentajes) asociadas a algunos de los resultados que se presentan a continuación. Estos, por por los bajos tamaños poblacionales existentes, son altamentente inestables/volátiles.
</p>
</blockquote>
<br>

### Evolución histórica

A continuación, la Figura \@ref(fig:F1AspPos), presenta la evolución histórica -*desde el periodo 20081*-, del total de aspirantes a postgrado en la sede.

```{r F1AspPos, echo=FALSE, message=FALSE, warning=FALSE, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(TOTAL ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>%  
              Plot.Series(categoria = "TOTAL", 
               colores = c("#8cc63f"), # verde, Total 
               titulo = "Evolución histórica del número total de aspirantes a postgrado", 
               labelY = "Número de aspirantes", 
               ylim = c(0,NaN),
               libreria = c("highcharter"), 
               estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

### Información por sexo

A continuación, las figuras \@ref(fig:F2AspPos) y \@ref(fig:F3AspPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a posgrado según el sexo biológico.

```{r F2AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <- c( "#f15a24", "#8cc63f") # naranja, hombres 

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "SEXO", 
              colores = col , 
              titulo = "Evolución del número de aspirantes a posgrado por sexo",
              labelY = "Número de aspirantes", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj))
```

<br>

```{r F3AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>%
        Plot.Torta(categoria  = "SEXO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de aspirantes a posgrado por sexo",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))

```

<br>

### Información por edad

A continuación, las figuras \@ref(fig:F4AspPos) y \@ref(fig:F5AspPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a posgrado por grupos de edad.

```{r F4AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
          Plot.Series(categoria = "CAT_EDAD", 
              titulo = "Evolución del número de aspirantes a posgrado por grupos de edad",
              labelY = "Número de aspirantes", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F5AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
         Plot.Barras(categoria  = "CAT_EDAD",
            ano        = ano,
            periodo    = semestre,
            vertical   = TRUE,
            ordinal    = TRUE,
            libreria   = "highcharter",
            titulo     = "Distribución de aspirantes a posgrado por grupos de edad",
            labelEje   = "Número de aspirantes",
            addPeriodo = TRUE,
            estilo = list(hc.Tema = tema, hc.Slider = FALSE)
             )
```

<br>

### Información por estrato socioeconómico

A continuación, las figuras \@ref(fig:F6AspPos) y \@ref(fig:F7AspPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes a posgrado según el estrato socioeconómico de las viviendas en donde estos residen.

```{r F6AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "ESTRATO", 
              titulo = "Evolúción del número de aspirantes a posgrado por estrato socioeconómico",
              labelY = "Número de aspirantes",
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F7AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "ESTRATO",
           ano        = ano,
           periodo    = semestre,
           titulo     = "Distribución de aspirantes a posgrado por estrato socioeconómico",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Tasa de absorción

A continuación, las figuras \@ref(fig:F8AspPos) y \@ref(fig:F9AspPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de aspirantes admitidos a posgrado en la **Sede Palmira** de la Universidad Nacional de Colombia.

```{r F8AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <-   c("#8cc63f", "#f15a24")

Agregar(ADMITIDO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>% 
        Plot.Series(categoria = "ADMITIDO", 
              colores = col, 
              titulo = "Evolución del número de aspirantes admitidos a posgrado",
              labelY = "Número de aspirantes",
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F9AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(ADMITIDO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AspirantesPos,
                    textNA = "Sin información") %>%  
        Plot.Torta(categoria  = "ADMITIDO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de aspirantes admitidos a posgrado",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Mapa departamentos y municipios de procedencia

A continuación, la figura \@ref(fig:F10AspPos) presenta el mapa actual (última convocatoria) con el total de aspirantes a posgrado por departamentos y municipios de procedencia en la **Sede Palmira**.

```{r F10AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
AspirantesPos %>% filter(YEAR == ano, SEMESTRE == semestre) %$%
  Plot.Mapa(depto         = COD_DEP_RES,
            mpio          = COD_CIU_RES,
            estadistico   = "Conteo",
            tipo          = "DeptoMpio",
            titulo        = paste("Aspirantes", etiqueta),
            centroideMapa = "VALLE DEL CAUCA",
            zoomMapa      = 6,
            cortes        = list(Deptos = c(0, 10, 100, 300, Inf),
                                 Mpios  = c(0, 1, 5, 10, 20, Inf)),
            colores       = list(Deptos = c('#edf8e9','#bae4b3','#74c476','#006d2c'),
                                 Mpios  = c('#ffffff',  '#5ec962', '#21918c', '#3b528b', '#fde725')),
            showSedes     = TRUE
  )
```

<br>

### Tabla agregada 

A continuación, la tabla \@ref(fig:F11AspPos) presenta el agregado **histórico**, por **años, semestres, departamentos  y municipios de procedenecia, sexo, edad, estrato y admisión (sí o no)** de los aspirantes a posgrado en la **Sede Palmira**.

Los interesados en *imprimir*, *copiar* o *descargar* estas cifras, pueden hacerlo a través de las múltiples opciones que se ofrecen en la parte superior izquierda de la tabla que se presenta a continuación (Copiar, CSV, Excel, PDF e Imprimir). Así mismo, esta tabla, dada su naturaleza web, permiten filtrar los resultados por aquellas variables de interés.

<br>

```{r F11AspPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Asp_Pos_Tabla <- AspirantesPos %>% group_by(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, ADMITIDO) %>% summarise(Total=n()) %>% select(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, ADMITIDO, Total) %>% ungroup() %>% mutate(across(where(is.character), replace_na,  replace = "SIN INFORMACIÓN")) 

#Tabla en HTML
UnalR::Tabla.General(datos = Asp_Pos_Tabla,
                     encabezado = "Tabla histórico total de aspirantes por variables de interés", 
                     colorHead = "#4CFF49",
                     colNames = c("Año","Semestre","Departamento de residencia","Ciudad de residencia","Sexo","Edad","Estrato","Admitido","Total"))

```

## Admitidos a postgrado {#AdmPos}

A continuación, se presentan las principales características asociadas a los admitidos a postgrado de la **Sede Palmira** de la Universidad Nacional de Colombia (por inscripción regular). En específico, se presenta la evolución histórica de los admitidos en este nivel de formación desde diferentes perspectivas: general, sexo, grupos de edad, estrato socioeconómico y departamentos y municipios de procedencia de los mismos. Para cada una de las variables analizadas se presenta la evolución histórica (*serie de tiempo*) así como el comportamiento actual (*estado actual*) derivado de las últimas mediciones disponibles.

En la parte final de esta sección se presenta una tabla agregada con las combinaciones de las variables ilustradas previamente. El usuario que así lo desee, puede descargar esta tabla y analizar la información como a bien lo desee.

<br>
<blockquote>
<p><strong><p style="color:red;">Nota: admitidos a postgrado </p></strong><br>
El número de admitidos a postgrado en la **Sede Palmira** de la Universidad Nacional de Colombia es bajo. Este hecho implica leer con precaución las frecuencias relativas (porcentajes) asociadas a algunos de los resultados que se presentan a continuación. Estos, por por los bajos tamaños poblacionales existentes, son altamentente inestables/volátiles.
</p>
</blockquote>
<br>

### Evolución histórica

A continuación, la Figura \@ref(fig:F1AdmPos), presenta la evolución histórica -*desde el periodo 2008-1*-, del total de admitidos a postgrado en la sede.

```{r F1AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(TOTAL ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>%  
              Plot.Series(categoria = "TOTAL", 
               colores = c("#8cc63f"), # verde, Total 
               titulo = "Evolución histórica del número total de admitidos a postgrado", 
               labelY = "Número de admitidos", 
               ylim = c(0,NaN),
               libreria = c("highcharter"), 
               estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

### Información por sexo

A continuación, las figuras \@ref(fig:F2AdmPos) y \@ref(fig:F3AdmPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a posgrado según el sexo biológico.

```{r F2AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col <- c( "#f15a24", "#8cc63f") # naranja, hombres 

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "SEXO", 
              colores = col , 
              titulo = "Evolución del número de admitidos a posgrado por sexo",
              labelY = "Número de admitidos", 
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = 5, hc.Slider = FALSE, hc.Credits = Msj))
```

<br>

```{r F3AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(SEXO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>%
        Plot.Torta(categoria  = "SEXO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de admitidos a posgrado por sexo",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))

```

<br>

### Información por edad

A continuación, las figuras \@ref(fig:F4AdmPos) y \@ref(fig:F5AdmPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a posgrado por grupos de edad.

```{r F4AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
          Plot.Series(categoria = "CAT_EDAD", 
              titulo = "Evolución del número de admitidos a posgrado por grupos de edad",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F5AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(CAT_EDAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
         Plot.Barras(categoria  = "CAT_EDAD",
            ano        = ano,
            periodo    = semestre,
            vertical   = TRUE,
            ordinal    = TRUE,
            libreria   = "highcharter",
            titulo     = "Distribución de admitidos a posgrado por grupos de edad",
            labelEje   = "Número de admitidos",
            addPeriodo = TRUE,
            estilo = list(hc.Tema = tema, hc.Slider = FALSE)
             )
```
<br>

### Información por estrato socioeconómico

A continuación, las figuras \@ref(fig:F6AdmPos) y \@ref(fig:F7AdmPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a posgrado según el estrato socioeconómico de las viviendas en donde estos residen.

```{r F6AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

col = c("#8cc63f", "#f15a24", "#0071bc", "#6d6666")

Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "ESTRATO", 
              colores = col, 
              titulo = "Evolúción del número de admitidos a posgrado por estrato socioeconómico",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F7AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(ESTRATO ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "ESTRATO",
           ano        = ano,
           periodo    = semestre,
           colores    = col,
           titulo     = "Distribución de admitidos a posgrado por estrato socioeconómico",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Información por facultad

A continuación, las figuras \@ref(fig:F8AdmPos) y \@ref(fig:F9AdmPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a posgrado por facultad.

```{r F8AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(FACULTAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "FACULTAD", 
              titulo = "Evolúción del número de admitidos a posgrado por facultad",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = 5, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F9AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Agregar(FACULTAD ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
        Plot.Torta(categoria  = "FACULTAD",
           ano        = ano,
           periodo    = semestre,
           titulo     = "Distribución de admitidos a posgrado por facultad",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema))
```

<br>

### Información por programa

A continuación, las figuras \@ref(fig:F10AdmPos) y \@ref(fig:F11AdmPos) presentan, respectivamente, la evolución histórica y el comportamiento actual del total de admitidos a posgrado por programa.

```{r F10AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(PROGRAMA ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
           Plot.Series(categoria = "PROGRAMA", 
              titulo = "Evolúción del número de admitidos a posgrado por programa",
              labelY = "Número de admitidos", 
              ylim = c(0,NaN),
              libreria = c("highcharter"), 
              estilo = list(hc.Tema = tema, hc.Slider = FALSE, hc.Credits = Msj)) 
```

<br>

```{r F11AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
Agregar(PROGRAMA ~ YEAR + SEMESTRE, 
                    frecuencia = list(c(2008:ano), c(1:2)),
                    intervalo = list(c(2008, 1), c(ano, semestre)),
                    datos = AdmitidosPos,
                    textNA = "Sin información") %>% 
        Plot.Barras(categoria  = "PROGRAMA",
           ano        = ano,
           periodo    = semestre,
           vertical   = FALSE,
           ordinal    = TRUE,
           titulo     = "Distribución de admitidos a posgrado por programa",
           labelEje   = "Número de admitidos",
           addPeriodo = TRUE,
           libreria   = "highcharter",
           estilo     = list(hc.Tema = tema, hc.Slider = FALSE))
```

<br>

### Mapa de departamentos y municipios de procedencia

A continuación, la figura \@ref(fig:F14AdmPos) presenta el mapa actual (última convocatoria) con el total de admitidos a pregrado por departamentos y municipios de procedencia en la **Sede Palmira**.

```{r F14AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}
AdmitidosPos %>% filter(YEAR == ano, SEMESTRE == semestre) %$%
  Plot.Mapa(depto         = COD_DEP_RES,
            mpio          = COD_CIU_RES,
            estadistico   = "Conteo",
            tipo          = "DeptoMpio",
            titulo        = paste("Aspirantes", etiqueta),
            centroideMapa = "VALLE DEL CAUCA",
            zoomMapa      = 6,
            cortes        = list(Deptos = c(0, 10, 100, 300, Inf),
                                 Mpios  = c(0, 1, 5, 10, 20, Inf)),
            colores       = list(Deptos = c('#edf8e9','#bae4b3','#74c476','#006d2c'),
                                 Mpios  = c('#ffffff',  '#5ec962', '#21918c', '#3b528b', '#fde725')),
            showSedes     = TRUE
  )
```

<br>

### Tabla agregada

A continuación, la tabla \@ref(fig:F15AdmPos) presenta el agregado **histórico**, por **años, semestres, departamentos  y municipios de procedenecia, sexo, edad, estrato, tipo de admisión, facultad, programa, y puntaje** de los admitidos a postgrado en la **Sede Palmira**.

Los interesados en *imprimir*, *copiar* o *descargar* estas cifras, pueden hacerlo a través de las múltiples opciones que se ofrecen en la parte superior izquierda de la tabla que se presenta a continuación (Copiar, CSV, Excel, PDF e Imprimir). Así mismo, esta tabla, dada su naturaleza web, permiten filtrar los resultados por aquellas variables de interés.

<br>

```{r F15AdmPos, echo=FALSE, message=FALSE, warning=FALSE, fig.cap='Fuente: Dirección Nacional de Planeación y Estadística con base en información de la Dirección Nacional de Admisiones'}

Adm_Pos_Tabla <- AdmitidosPos %>% group_by(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, MOD_INS, FACULTAD, PROGRAMA) %>% summarise(Total=n()) %>% select(YEAR, SEMESTRE, DEP_RES, CIU_RES, SEXO, CAT_EDAD, ESTRATO, MOD_INS, FACULTAD, PROGRAMA, Total) %>% ungroup() %>% mutate(across(where(is.character), replace_na,  replace = "SIN INFORMACIÓN")) 

#Tabla en HTML
UnalR::Tabla.General(datos = Adm_Pos_Tabla,
                     encabezado = "Tabla histórico total de admitidos por variables de interés",
                     colorHead = "#4CFF49",
                     colNames = c("Año","Semestre","Departamento de residencia","Ciudad de residencia","Sexo","Edad","Estrato","Modalidad de inscripción", "Facultad","Programa","Total"))

```

